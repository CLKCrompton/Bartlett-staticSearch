<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en">
   
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
      
      <!--THIS FILE IS GENERATED FROM AN XML MASTER. DO NOT EDIT (5)-->
      
      <title>Static Search: How do I use it?</title>
      
      <meta name="author" content="Martin Holmes and Joey Takeda"/>
      
      <meta name="generator" content="Text Encoding Initiative Consortium XSLT stylesheets"/>
      
      <link rel="stylesheet" href="documentation.css" type="text/css"/>
      <link rel="stylesheet" type="text/css" href="doc_chapters.css"/>
      
      <link rel="stylesheet" media="print" type="text/css" href="https://www.tei-c.org/release/xml/tei/stylesheet/tei-print.css"/><script type="text/javascript"><!--
var displayXML=0;
states=new Array()
states[0]="element-a"
states[1]="element-b"
states[2]="element-c"
states[3]="element-d"
states[4]="element-e"
states[5]="element-f"
states[6]="element-g"
states[7]="element-h"
states[8]="element-i"
states[9]="element-j"
states[10]="element-k"
states[11]="element-l"
states[12]="element-m"
states[13]="element-n"
states[14]="element-o"
states[15]="element-p"
states[16]="element-q"
states[17]="element-r"
states[18]="element-s"
states[19]="element-t"
states[20]="element-u"
states[21]="element-v"
states[22]="element-w"
states[23]="element-x"
states[24]="element-y"
states[25]="element-z"

function startUp() {

}

function hideallExcept(elm) {
for (var i = 0; i < states.length; i++) {
 var layer;
 if (layer = document.getElementById(states[i]) ) {
  if (states[i] != elm) {
    layer.style.display = "none";
  }
  else {
   layer.style.display = "block";
      }
  }
 }
 var mod;
 if ( mod = document.getElementById('byMod') ) {
     mod.style.display = "none";
 }
}

function showall() {
 for (var i = 0; i < states.length; i++) {
   var layer;
   if (layer = document.getElementById(states[i]) ) {
      layer.style.display = "block";
      }
  }
}

function showByMod() {
  hideallExcept('');
  var mod;
  if (mod = document.getElementById('byMod') ) {
     mod.style.display = "block";
     }
}

	--></script><meta name="Date Updated" class="staticSearch.date" content="2021-02-26"/>
      <meta name="Level" class="staticSearch.desc" content="Intermediate"/><script src="ssHighlight.js"></script></head>
   
   <body class="simple" id="TOP"><!--TEI front-->
      
      <div class="tei_front">
         <div>
            
            <div class="titlePage">
               
               <div class="docTitle">
                  
                  <div class="titlePart"><a href="index.html">Project Endings staticSearch Generator</a></div>
                  
                  <div class="titlePart">Schema and guidelines for creating a staticSearch engine for your HTML5 site</div>
                  </div>
               
               <div class="docAuthor">Martin Holmes</div>
               
               <div class="docAuthor">Joey Takeda</div>
               
               <div class="docDate">2019-2021</div>
               </div>
            
            <p>This documentation provides instructions on how to use the Project Endings staticSearch
               Generator to provide a fully-functional search ‘engine’ to your website without any
               dependency on server-side code such as a database.</p>
            
            <ul class="toc toc_body">
               
               <li class="toc"><span class="headingNumber"> 1 </span><a href="whatDoesItDo.html" class="toc toc_0" title="What does it do">What does it do?</a></li>
               
               <li class="toc"><span class="headingNumber"> 2 </span><a href="whyWouldIUseIt.html" class="toc toc_0" title="Why would I use it">Why would I use it?</a></li>
               
               <li class="toc"><span class="headingNumber"> 3 </span><a href="textSearchFeatures.html" class="toc toc_0" title="Text search features">Text search features</a></li>
               
               <li class="toc"><span class="headingNumber"> 4 </span><a href="searchFacetFeatures.html" class="toc toc_0" title="Search facet features">Search facet features</a></li>
               
               <li class="toc"><span class="headingNumber"> 5 </span><a href="searchPageCaptions.html" class="toc toc_0" title="Search page captions">Search page captions</a></li>
               
               <li class="toc"><span class="headingNumber"> 6 </span><a href="howDoIGetIt.html" class="toc toc_0" title="How do I get it">How do I get it?</a></li>
               
               <li class="toc"><span class="headingNumber"> 7 </span><span class="current">How do I use it?</span><ul class="toc">
                     
                     <li class="toc"><span class="headingNumber"> 7.1 </span><a class="toc toc_1" href="#filters" title="Configuring your site search filters">Configuring your site: search filters</a><ul class="toc">
                           
                           <li class="toc"><span class="headingNumber">7.1.1 </span><a class="toc toc_2" href="#descFilters" title="Description filters">Description filters</a><ul class="toc">
                                 
                                 <li class="toc"><span class="headingNumber">7.1.1.1 </span><a class="toc toc_3" href="#descFilterSorting" title="Sort order for description filters">Sort order for description filters</a></li>
                                 </ul>
                              </li>
                           
                           <li class="toc"><span class="headingNumber">7.1.2 </span><a class="toc toc_2" href="#dateFilters" title="Date filters">Date filters</a></li>
                           
                           <li class="toc"><span class="headingNumber">7.1.3 </span><a class="toc toc_2" href="#numFilters" title="Number filters">Number filters</a></li>
                           
                           <li class="toc"><span class="headingNumber">7.1.4 </span><a class="toc toc_2" href="#boolFilters" title="Boolean filters">Boolean filters</a></li>
                           </ul>
                        </li>
                     
                     <li class="toc"><span class="headingNumber"> 7.2 </span><a class="toc toc_1" href="#configuringDocTitles" title="Configuring your site document titles">Configuring your site: document titles</a></li>
                     
                     <li class="toc"><span class="headingNumber"> 7.3 </span><a class="toc toc_1" href="#configuringDocSortKey" title="Configuring your site document sort keys">Configuring your site: document sort keys</a></li>
                     
                     <li class="toc"><span class="headingNumber"> 7.4 </span><a class="toc toc_1" href="#configuringDocThumbnails" title="Configuring your site document thumbnails">Configuring your site: document thumbnails</a></li>
                     
                     <li class="toc"><span class="headingNumber"> 7.5 </span><a class="toc toc_1" href="#creatingConfigFile" title="Creating a configuration file">Creating a configuration file</a><ul class="toc">
                           
                           <li class="toc"><span class="headingNumber">7.5.1 </span><a class="toc toc_2" href="#specifyingParameters" title="Specifying parameters">Specifying parameters</a><ul class="toc">
                                 
                                 <li class="toc"><span class="headingNumber">7.5.1.1 </span><a class="toc toc_3" href="#paramsRequired" title="Required parameters">Required parameters</a></li>
                                 
                                 <li class="toc"><span class="headingNumber">7.5.1.2 </span><a class="toc toc_3" href="#paramsOptional" title="Optional parameters">Optional parameters</a></li>
                                 </ul>
                              </li>
                           
                           <li class="toc"><span class="headingNumber">7.5.2 </span><a class="toc toc_2" href="#specifyingRules" title="Specifying rules (optional)">Specifying rules (optional)</a></li>
                           
                           <li class="toc"><span class="headingNumber">7.5.3 </span><a class="toc toc_2" href="#specifyingContexts" title="Specifying contexts (optional)">Specifying contexts (optional)</a></li>
                           
                           <li class="toc"><span class="headingNumber">7.5.4 </span><a class="toc toc_2" href="#specifyingExclusions" title="Specifying exclusions (optional)">Specifying exclusions (optional)</a></li>
                           </ul>
                        </li>
                     
                     <li class="toc"><span class="headingNumber"> 7.6 </span><a class="toc toc_1" href="#searchPage" title="Creating a search page">Creating a search page</a></li>
                     
                     <li class="toc"><span class="headingNumber"> 7.7 </span><a class="toc toc_1" href="#searchBuildProcess" title="Running the search build process">Running the search build process</a></li>
                     
                     <li class="toc"><span class="headingNumber"> 7.8 </span><a class="toc toc_1" href="#theStaticSearchReport" title="Generated report">Generated report</a></li>
                     
                     <li class="toc"><span class="headingNumber"> 7.9 </span><a class="toc toc_1" href="#advancedFeatures" title="Advanced features">Advanced features</a><ul class="toc">
                           
                           <li class="toc"><span class="headingNumber">7.9.1 </span><a class="toc toc_2" href="#customAttributes" title="Custom attributes">Custom attributes</a></li>
                           
                           <li class="toc"><span class="headingNumber">7.9.2 </span><a class="toc toc_2" href="#highlightTargetPage" title="Highlighting search hits on target pages">Highlighting search hits on target pages</a></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
               
               <li class="toc"><span class="headingNumber"> 8 </span><a href="howDoesItWork.html" class="toc toc_0" title="How does it work">How does it work?</a><ul class="toc">
                     
                     <li class="toc"><span class="headingNumber"> 8.1 </span><a href="howDoesItWork.html#buildingTheIndex" class="toc toc_1" title="Building the index">Building the index</a></li>
                     
                     <li class="toc"><span class="headingNumber"> 8.2 </span><a href="howDoesItWork.html#theSearchPage" class="toc toc_1" title="The search page">The search page</a></li>
                     </ul>
                  </li>
               
               <li class="toc"><span class="headingNumber"> 9 </span><a href="howDoI.html" class="toc toc_0" title="How do I...">How do I...</a></li>
               
               <li class="toc"><span class="headingNumber">10 </span><a href="newSinceVersion1.html" class="toc toc_0" title="Whats new since version 1.0">What's new since version 1.0?</a><ul class="toc">
                     
                     <li class="toc"><span class="headingNumber">10.1 </span><a href="newSinceVersion1.html#newIn1.2" class="toc toc_1" title="Changes in version 1.2">Changes in version 1.2</a></li>
                     
                     <li class="toc"><span class="headingNumber">10.2 </span><a href="newSinceVersion1.html#newIn1.1" class="toc toc_1" title="Changes in version 1.1">Changes in version 1.1</a></li>
                     </ul>
                  </li>
               
               <li class="toc"><span class="headingNumber">11 </span><a href="projectsUsingSS.html" class="toc toc_0" title="Projects using staticSearch">Projects using staticSearch</a></li>
               </ul>
            
            <ul class="toc toc_back">
               
               <li class="toc"><span class="headingNumber">Appendix A </span><a href="schemaSpec.html" class="toc toc_0" title="Schema specification and tag documentation">Schema specification and tag documentation</a><ul class="toc">
                     
                     <li class="toc"><span class="headingNumber">Appendix A.1 </span><a href="schemaSpec.html#index.xml-back.1_div.1_div.1" class="toc toc_1">Elements</a><ul class="toc">
                           
                           <li class="toc"><span class="headingNumber">Appendix A.1.1 </span><a href="schemaSpec.html#TEI.config" class="toc toc_2" title="&lt;config&gt;">&lt;config&gt;</a></li>
                           
                           <li class="toc"><span class="headingNumber">Appendix A.1.2 </span><a href="schemaSpec.html#TEI.context" class="toc toc_2" title="&lt;context&gt;">&lt;context&gt;</a></li>
                           
                           <li class="toc"><span class="headingNumber">Appendix A.1.3 </span><a href="schemaSpec.html#TEI.contexts" class="toc toc_2" title="&lt;contexts&gt;">&lt;contexts&gt;</a></li>
                           
                           <li class="toc"><span class="headingNumber">Appendix A.1.4 </span><a href="schemaSpec.html#TEI.createContexts" class="toc toc_2" title="&lt;createContexts&gt;">&lt;createContexts&gt;</a></li>
                           
                           <li class="toc"><span class="headingNumber">Appendix A.1.5 </span><a href="schemaSpec.html#TEI.dictionaryFile" class="toc toc_2" title="&lt;dictionaryFile&gt;">&lt;dictionaryFile&gt;</a></li>
                           
                           <li class="toc"><span class="headingNumber">Appendix A.1.6 </span><a href="schemaSpec.html#TEI.exclude" class="toc toc_2" title="&lt;exclude&gt;">&lt;exclude&gt;</a></li>
                           
                           <li class="toc"><span class="headingNumber">Appendix A.1.7 </span><a href="schemaSpec.html#TEI.excludes" class="toc toc_2" title="&lt;excludes&gt;">&lt;excludes&gt;</a></li>
                           
                           <li class="toc"><span class="headingNumber">Appendix A.1.8 </span><a href="schemaSpec.html#TEI.indentJSON" class="toc toc_2" title="&lt;indentJSON&gt;">&lt;indentJSON&gt;</a></li>
                           
                           <li class="toc"><span class="headingNumber">Appendix A.1.9 </span><a href="schemaSpec.html#TEI.kwicTruncateString" class="toc toc_2" title="&lt;kwicTruncateString&gt;">&lt;kwicTruncateString&gt;</a></li>
                           
                           <li class="toc"><span class="headingNumber">Appendix A.1.10 </span><a href="schemaSpec.html#TEI.linkToFragmentId" class="toc toc_2" title="&lt;linkToFragmentId&gt;">&lt;linkToFragmentId&gt;</a></li>
                           
                           <li class="toc"><span class="headingNumber">Appendix A.1.11 </span><a href="schemaSpec.html#TEI.maxKwicsToHarvest" class="toc toc_2" title="&lt;maxKwicsToHarvest&gt;">&lt;maxKwicsToHarvest&gt;</a></li>
                           
                           <li class="toc"><span class="headingNumber">Appendix A.1.12 </span><a href="schemaSpec.html#TEI.maxKwicsToShow" class="toc toc_2" title="&lt;maxKwicsToShow&gt;">&lt;maxKwicsToShow&gt;</a></li>
                           
                           <li class="toc"><span class="headingNumber">Appendix A.1.13 </span><a href="schemaSpec.html#TEI.minWordLength" class="toc toc_2" title="&lt;minWordLength&gt;">&lt;minWordLength&gt;</a></li>
                           
                           <li class="toc"><span class="headingNumber">Appendix A.1.14 </span><a href="schemaSpec.html#TEI.outputFolder" class="toc toc_2" title="&lt;outputFolder&gt;">&lt;outputFolder&gt;</a></li>
                           
                           <li class="toc"><span class="headingNumber">Appendix A.1.15 </span><a href="schemaSpec.html#TEI.params" class="toc toc_2" title="&lt;params&gt;">&lt;params&gt;</a></li>
                           
                           <li class="toc"><span class="headingNumber">Appendix A.1.16 </span><a href="schemaSpec.html#TEI.phrasalSearch" class="toc toc_2" title="&lt;phrasalSearch&gt;">&lt;phrasalSearch&gt;</a></li>
                           
                           <li class="toc"><span class="headingNumber">Appendix A.1.17 </span><a href="schemaSpec.html#TEI.recurse" class="toc toc_2" title="&lt;recurse&gt;">&lt;recurse&gt;</a></li>
                           
                           <li class="toc"><span class="headingNumber">Appendix A.1.18 </span><a href="schemaSpec.html#TEI.resultsLimit" class="toc toc_2" title="&lt;resultsLimit&gt;">&lt;resultsLimit&gt;</a></li>
                           
                           <li class="toc"><span class="headingNumber">Appendix A.1.19 </span><a href="schemaSpec.html#TEI.resultsPerPage" class="toc toc_2" title="&lt;resultsPerPage&gt;">&lt;resultsPerPage&gt;</a></li>
                           
                           <li class="toc"><span class="headingNumber">Appendix A.1.20 </span><a href="schemaSpec.html#TEI.rule" class="toc toc_2" title="&lt;rule&gt;">&lt;rule&gt;</a></li>
                           
                           <li class="toc"><span class="headingNumber">Appendix A.1.21 </span><a href="schemaSpec.html#TEI.rules" class="toc toc_2" title="&lt;rules&gt;">&lt;rules&gt;</a></li>
                           
                           <li class="toc"><span class="headingNumber">Appendix A.1.22 </span><a href="schemaSpec.html#TEI.scoringAlgorithm" class="toc toc_2" title="&lt;scoringAlgorithm&gt;">&lt;scoringAlgorithm&gt;</a></li>
                           
                           <li class="toc"><span class="headingNumber">Appendix A.1.23 </span><a href="schemaSpec.html#TEI.scrollToTextFragment" class="toc toc_2" title="&lt;scrollToTextFragment&gt;">&lt;scrollToTextFragment&gt;</a></li>
                           
                           <li class="toc"><span class="headingNumber">Appendix A.1.24 </span><a href="schemaSpec.html#TEI.searchFile" class="toc toc_2" title="&lt;searchFile&gt;">&lt;searchFile&gt;</a></li>
                           
                           <li class="toc"><span class="headingNumber">Appendix A.1.25 </span><a href="schemaSpec.html#TEI.stemmerFolder" class="toc toc_2" title="&lt;stemmerFolder&gt;">&lt;stemmerFolder&gt;</a></li>
                           
                           <li class="toc"><span class="headingNumber">Appendix A.1.26 </span><a href="schemaSpec.html#TEI.stopwordsFile" class="toc toc_2" title="&lt;stopwordsFile&gt;">&lt;stopwordsFile&gt;</a></li>
                           
                           <li class="toc"><span class="headingNumber">Appendix A.1.27 </span><a href="schemaSpec.html#TEI.totalKwicLength" class="toc toc_2" title="&lt;totalKwicLength&gt;">&lt;totalKwicLength&gt;</a></li>
                           
                           <li class="toc"><span class="headingNumber">Appendix A.1.28 </span><a href="schemaSpec.html#TEI.verbose" class="toc toc_2" title="&lt;verbose&gt;">&lt;verbose&gt;</a></li>
                           
                           <li class="toc"><span class="headingNumber">Appendix A.1.29 </span><a href="schemaSpec.html#TEI.versionFile" class="toc toc_2" title="&lt;versionFile&gt;">&lt;versionFile&gt;</a></li>
                           
                           <li class="toc"><span class="headingNumber">Appendix A.1.30 </span><a href="schemaSpec.html#TEI.wildcardSearch" class="toc toc_2" title="&lt;wildcardSearch&gt;">&lt;wildcardSearch&gt;</a></li>
                           </ul>
                        </li>
                     
                     <li class="toc"><span class="headingNumber">Appendix A.2 </span><a href="schemaSpec.html#index.xml-back.1_div.1_div.2" class="toc toc_1">Attribute classes</a><ul class="toc">
                           
                           <li class="toc"><span class="headingNumber">Appendix A.2.1 </span><a href="schemaSpec.html#TEI.att.labelled" class="toc toc_2" title="att.labelled">att.labelled</a></li>
                           
                           <li class="toc"><span class="headingNumber">Appendix A.2.2 </span><a href="schemaSpec.html#TEI.att.match" class="toc toc_2" title="att.match">att.match</a></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
               </ul>
            </div>
      </div>
      <!--TEI body-->
      
      <div data-section="howDoIUseIt" class="tei_body">
         
         <nav>
            <ul>
               <li class="prev"><a href="howDoIGetIt.html"><span class="headingNumber">6 </span><span class="head">How do I get it?</span></a></li>
               <li class="next"><a href="howDoesItWork.html"><span class="headingNumber">8 </span><span class="head">How does it work?</span></a></li>
            </ul>
         </nav>
         <h1><span class="headingNumber">7 </span><span class="head">How do I use it?</span></h1>
         
         
         
         
         
         
         
         
         
         <ul>
            
            <li class="item">Level: Intermediate</li>
            
            <li class="item">Last Updated: <span class="date">26 February 2021</span></li>
            </ul>
         
         <p>First, you will have to make sure your site pages are correctly configured so that
            the Generator can parse them. Then, you will have to create a configuration file specifying
            what options you want to use. Then you run the generator, and the search functionality
            should be added to your site.</p>
         
         <p>The generator is expecting to parse <em>well-formed XHTML5 web pages</em>. That means web pages which are well-formed XML, using the XHTML namespace. If your
            site is just raggedy tag-soup, then you can't use this tool. You can tidy up your
            HTML using <a class="link_ref" href="http://www.html-tidy.org/">HTML Tidy</a>.</p>
         
         <div class="teidiv1" id="filters">
            
            <h3><span class="headingNumber">7.1 </span><span class="head">Configuring your site: search filters</span></h3>
            
            <p>Next, you will need to decide whether you want search filters or not. If you want
               to allow your users to search (for example) only in poems, or only in articles, or
               only in blog posts, or any combination of these document types, you will need to add
               <span class="gi">&lt;meta&gt;</span> tags to the heads of your documents to specify what these filters are. <span class="titlem">staticSearch</span> supports four filter types.</p>
            
            <div class="teidiv2" id="descFilters">
               
               <h3><span class="headingNumber">7.1.1 </span><span class="head">Description filters</span></h3>
               
               <div class="p">The description (desc) filter is a word or phrase describing or associated with the
                  document. Here is a simple example: 
                  
                  <div id="index.xml-egXML-d38e220" class="pre egXML_valid"><span class="element">&lt;meta <span class="attribute">name</span>="<span class="attributevalue">Document type</span>"<br/> <span class="attribute">class</span>="<span class="attributevalue">staticSearch.desc</span>" <span class="attribute">content</span>="<span class="attributevalue">Poems</span>"/&gt;</span></div> This specifies that there is to be a descriptive search filter called <span class="q">‘Document type’</span>, and one of the types is <span class="q">‘Poems’</span>; the document containing this <span class="gi">&lt;meta&gt;</span> tag is one of the Poems. Another type might be: 
                  
                  <div id="index.xml-egXML-d38e229" class="pre egXML_valid"><span class="element">&lt;meta <span class="attribute">name</span>="<span class="attributevalue">Document type</span>"<br/> <span class="attribute">class</span>="<span class="attributevalue">staticSearch.desc</span>" <span class="attribute">content</span>="<span class="attributevalue">Short stories</span>"/&gt;</span></div> If the Generator finds such meta tags when it is indexing, it will create a set of
                  filter controls on the search page, enabling the user to constrain the search to a
                  specific set of filter settings.</div>
               
               <div class="teidiv3" id="descFilterSorting">
                  
                  <h4><span class="headingNumber">7.1.1.1 </span><span class="head">Sort order for description filters</span></h4>
                  
                  <div class="p">Description filter labels may be plain text such as <span class="q">‘Short stories’</span> or <span class="q">‘Poems’</span>, but they may also be more obscure labels relating to document categories in indexing
                     systems or archival series identifiers. When the search page is generated, these labels
                     are turned into a series of labelled checkboxes, sorted in alphabetical order. However,
                     the strict alphabetical order of items may not be exactly what you want; you may want
                     to sort <span class="q">‘305 2’</span> before <span class="q">‘305 10’</span> for example. To deal with cases like this, in addition to the <span class="att">content</span> attribute, you can also supply a custom <span class="att">data-ssfiltersortkey</span> attribute, providing a sort key for each label. Here is are a couple of examples:
                     
                     
                     <div id="index.xml-egXML-d38e251" class="pre egXML_valid"><span class="element">&lt;meta <span class="attribute">name</span>="<span class="attributevalue">Archival series</span>"<br/> <span class="attribute">class</span>="<span class="attributevalue">staticSearch.desc</span>" <span class="attribute">data-ssfiltersortkey</span>="<span class="attributevalue">305_02</span>"<br/> <span class="attribute">content</span>="<span class="attributevalue">305 2</span>"/&gt;</span><br/><span class="element">&lt;meta <span class="attribute">name</span>="<span class="attributevalue">Archival series</span>"<br/> <span class="attribute">class</span>="<span class="attributevalue">staticSearch.desc</span>" <span class="attribute">data-ssfiltersortkey</span>="<span class="attributevalue">305_10</span>"<br/> <span class="attribute">content</span>="<span class="attributevalue">305 10</span>"/&gt;</span></div> In this case, the first item will sort in the filter list before the second item
                     based on the sort key; without it, they would sort in reverse order based on the <span class="att">content</span> attribute. Note that the <span class="att">data-ssfiltersortkey</span> attribute name is all-lower-case, to comply with the XHTML5 schema.</div>
                  </div>
               </div>
            
            <div class="teidiv2" id="dateFilters">
               
               <h3><span class="headingNumber">7.1.2 </span><span class="head">Date filters</span></h3>
               
               <div class="p">Another slightly different kind of search control is a document date. If your collection
                  of documents has items from different dates, you can add a <span class="gi">&lt;meta&gt;</span> tag like this: 
                  
                  <div id="index.xml-egXML-d38e267" class="pre egXML_valid"><span class="element">&lt;meta <span class="attribute">name</span>="<span class="attributevalue">Date of publication</span>"<br/> <span class="attribute">class</span>="<span class="attributevalue">staticSearch.date</span>" <span class="attribute">content</span>="<span class="attributevalue">1895-01-05</span>"/&gt;</span></div> The date may take any of the following forms: 
                  
                  <ul>
                     
                     <li class="item">1895 (year only)</li>
                     
                     <li class="item">1895-01 (year and month)</li>
                     
                     <li class="item">1895-01-05 (year, month and day)</li>
                     </ul> For some documents, it may not be possible to specify a single date in this form,
                  so you can specify a range instead, using a slash to separate the start and end dates
                  of the range (following ISO 8601): 
                  
                  <ul>
                     
                     <li class="item">1895/1897</li>
                     
                     <li class="item">1903-01-02/1905-05-31</li>
                     </ul>
                  </div>
               </div>
            
            <div class="teidiv2" id="numFilters">
               
               <h3><span class="headingNumber">7.1.3 </span><span class="head">Number filters</span></h3>
               
               <div class="p">You can also configure a range filter based on a numeric value (integer or decimal).
                  For example, you might want to allow people to filter documents in the search results
                  based on their word-count: 
                  
                  <div id="index.xml-egXML-d38e282" class="pre egXML_valid"><span class="element">&lt;meta <span class="attribute">name</span>="<span class="attributevalue">Word-count</span>"<br/> <span class="attribute">class</span>="<span class="attributevalue">staticSearch.num</span>" <span class="attribute">content</span>="<span class="attributevalue">2193</span>"/&gt;</span></div> Users would then be able to set a minimum and/or maximum word-count when searching
                  for documents.</div>
               </div>
            
            <div class="teidiv2" id="boolFilters">
               
               <h3><span class="headingNumber">7.1.4 </span><span class="head">Boolean filters</span></h3>
               
               <div class="p">A fourth filter type is the boolean (true/false) filter. To use boolean filters, add
                  meta tags like this to your documents: 
                  
                  <div id="index.xml-egXML-d38e289" class="pre egXML_valid"><span class="element">&lt;meta <span class="attribute">name</span>="<span class="attributevalue">Peer-reviewed</span>"<br/> <span class="attribute">class</span>="<span class="attributevalue">staticSearch.bool</span>" <span class="attribute">content</span>="<span class="attributevalue">true</span>"/&gt;</span></div>
                  </div>
               </div>
            </div>
         
         <div class="teidiv1" id="configuringDocTitles">
            
            <h3><span class="headingNumber">7.2 </span><span class="head">Configuring your site: document titles</span></h3>
            
            <div class="p">When the indexing process runs over your document collection, by default it will use
               the document title that it finds in the <span class="gi">&lt;title&gt;</span> element in the document header; that title will then be shown as a link to the document
               when it comes up in search results. However, that may not be the ideal title for this
               purpose; for example, all of your documents may include the site title as the first
               part of their document title, but it would be pointless to include this in the search
               result links. Therefore you can override the document title value by providing another
               meta tag, like this: 
               
               <div id="index.xml-egXML-d38e297" class="pre egXML_valid"><span class="element">&lt;meta <span class="attribute">name</span>="<span class="attributevalue">docTitle</span>"<br/> <span class="attribute">class</span>="<span class="attributevalue">staticSearch.docTitle</span>" <span class="attribute">content</span>="<span class="attributevalue">What I did in my holidays</span>"/&gt;</span></div>
               </div>
            </div>
         
         <div class="teidiv1" id="configuringDocSortKey">
            
            <h3><span class="headingNumber">7.3 </span><span class="head">Configuring your site: document sort keys</span></h3>
            
            <div class="p">When a user searches for text on your site, the documents retrieved will be presented
               in a sequence based on the ‘hit score’ or ‘relevance score’; documents with the highest
               scores will be presented first, and the list will be in descending order of relevance.
               However, if you have search filters on your site, it is possible that users will not
               enter any search text at all; they may simply select some filters and get a list of
               matching documents. In this case, there will be no relevance scores, so the documents
               will be presented in a random order. However, you may wish to control the order in
               which documents without hit scores, or sequences of documents with the same hit score,
               are presented. You can do this by adding a single meta tag to the document providing
               a ‘sort key’, which can be used to sort the list of hits. This is an example: 
               
               <div id="index.xml-egXML-d38e309" class="pre egXML_valid"><span class="element">&lt;meta <span class="attribute">name</span>="<span class="attributevalue">docSortKey</span>"<br/> <span class="attribute">class</span>="<span class="attributevalue">staticSearch.docSortKey</span>" <span class="attribute">content</span>="<span class="attributevalue">d_1854-01-02</span>"/&gt;</span></div>
               </div>
            </div>
         
         <div class="teidiv1" id="configuringDocThumbnails">
            
            <h3><span class="headingNumber">7.4 </span><span class="head">Configuring your site: document thumbnails</span></h3>
            
            <div class="p">When a document is returned as a result of a search hit, you may want to include with
               it a thumbnail image. This may be for aesthetic reasons, or because the focus of the
               document itself is actually an image (perhaps your site is a set of pages dealing
               with works of art, for instance). Whatever the reason, you can supply a link to a
               thumbnail image like this: 
               
               <div id="index.xml-egXML-d38e315" class="pre egXML_valid"><span class="element">&lt;meta <span class="attribute">name</span>="<span class="attributevalue">docImage</span>"<br/> <span class="attribute">class</span>="<span class="attributevalue">staticSearch.docImage</span>" <span class="attribute">content</span>="<span class="attributevalue">images/thisPage.jpg</span>"/&gt;</span></div> The <span class="att">content</span> attribute value should either be the path to an image relative to the document itself
               or the URL to an external image; so in the example above, there would be a folder
               called <span class="ident">images</span> which is a sibling of the HTML file containing the tag, and that folder would contain
               a file called <span class="ident">thisPage.jpg</span>.</div>
            </div>
         
         <div class="teidiv1" id="creatingConfigFile">
            
            <h3><span class="headingNumber">7.5 </span><span class="head">Creating a configuration file</span></h3>
            
            <p>The configuration file is an XML document which tells the Generator where to find
               your site, and what search features you would like to include. The configuration file
               conforms to a schema which is documented here.</p>
            
            <p>There are three main sections of the configuration file: </p>
            
            <ul class="specList">
               
               <li class="item"><span class="specList-elementSpec"><a href="schemaSpec.html#TEI.params" class="link_ref" title="&lt;params&gt;">params</a></span> (<span>Element containing most of the settings which enable the Generator to find the target
                     website content and process it appropriately.</span>)</li>
               
               <li class="item"><span class="specList-elementSpec"><a href="schemaSpec.html#TEI.rules" class="link_ref" title="&lt;rules&gt;">rules</a></span> (<span>The set of rules that control weighting of search terms found in specific contexts.</span>)</li>
               
               <li class="item"><span class="specList-elementSpec"><a href="schemaSpec.html#TEI.contexts" class="link_ref" title="&lt;contexts&gt;">contexts</a></span> (<span>The set of context elements that identify contexts for keyword-in-context fragments.</span>)</li>
               </ul>
            
            <p> Only the <a href="schemaSpec.html#TEI.params" class="link_ref" title="&lt;params&gt;">&lt;params&gt;</a> element is necessary, but, as we discuss shortly, we highly suggest taking advantage
               of the <a href="schemaSpec.html#TEI.rules" class="link_ref" title="&lt;rules&gt;">&lt;rules&gt;</a> (see <a class="link_ptr" href="#specifyingRules" title="Specifying rules (optional)"><span class="headingNumber">7.5.2 </span>Specifying rules (optional)</a>) and <a href="schemaSpec.html#TEI.contexts" class="link_ref" title="&lt;contexts&gt;">&lt;contexts&gt;</a> (<a class="link_ptr" href="#specifyingContexts" title="Specifying contexts (optional)"><span class="headingNumber">7.5.3 </span>Specifying contexts (optional)</a>) for the best results.</p>
            
            <div class="teidiv2" id="specifyingParameters">
               
               <h3><span class="headingNumber">7.5.1 </span><span class="head">Specifying parameters</span></h3>
               
               <div class="teidiv3" id="paramsRequired">
                  
                  <h4><span class="headingNumber">7.5.1.1 </span><span class="head">Required parameters</span></h4>
                  
                  <p>The <a href="schemaSpec.html#TEI.params" class="link_ref" title="&lt;params&gt;">&lt;params&gt;</a> element has two required elements for determining the resource collection that you
                     wish to index: </p>
                  
                  <ul class="specList">
                     
                     <li class="item"><span class="specList-elementSpec"><a href="schemaSpec.html#TEI.searchFile" class="link_ref" title="&lt;searchFile&gt;">searchFile</a></span> (<span>The search file (aka page) that will be the primary access point for the staticSearch.
                           Note that this page must be at the root of the collection directory.</span>)</li>
                     
                     <li class="item"><span class="specList-elementSpec"><a href="schemaSpec.html#TEI.recurse" class="link_ref" title="&lt;recurse&gt;">recurse</a></span> (<span>Whether to recurse into subdirectories of the collection directory or not.</span>)</li>
                     </ul>
                  
                  <p> <span style="display:block" class="p">The search page is a regular HTML page which forms part of your site. The only important
                        characteristic it must have is a <span class="gi">&lt;div&gt;</span> element with <span class="att">id</span>=<span class="val">staticSearch</span>, whose contents will be rewritten by the staticSearch build process. See <a class="link_ptr" href="#searchPage" title="Creating a search page"><span class="headingNumber">7.6 </span>Creating a search page</a>.</span></p>
                  
                  <p>The <a href="schemaSpec.html#TEI.searchFile" class="link_ref" title="&lt;searchFile&gt;">&lt;searchFile&gt;</a> element is a relative URI (resolved, like all URIs specified in the config file,
                     against the configuration file location) that points directly to the search page that
                     will be the primary access point for the search. Since the search file must be at
                     the root of the directory that you wish to index (i.e. the directory that contains
                     all of the XHTML you want the search to index), the searchFile parameter provides
                     the necessary information for knowing what document collection to index and where
                     to put the output JSON. In other words, in specifying the location of your search
                     page, you are also specifying the location of your document collection. See <a class="link_ref" href="#searchPage" title="Creating a search page">Creating a search page</a> for more information on how to configure this file.</p>
                  
                  <p>Note that all output files will be in a directory that is a sibling to the search
                     page. For instance, in a document collection that looks something like: </p>
                  
                  <ul style="font-family: monospace">
                     
                     <li class="item">myProject 
                        
                        <ul>
                           
                           <li class="item">novel.html</li>
                           
                           <li class="item">poem.html</li>
                           
                           <li class="item">shortstory.html</li>
                           
                           <li class="item">search.html</li>
                           </ul>
                        </li>
                     </ul>
                  
                  <p> The collection of Javascript and JSON files will be in a directory like so: </p>
                  
                  <ul style="font-family: monospace">
                     
                     <li class="item">myProject 
                        
                        <ul>
                           
                           <li class="item">novel.html</li>
                           
                           <li class="item">poem.html</li>
                           
                           <li class="item">shortstory.html</li>
                           
                           <li class="item">search.html</li>
                           
                           <li class="item"><em>staticSearch</em></li>
                           </ul>
                        </li>
                     </ul>
                  
                  <p>We also require the <a href="schemaSpec.html#TEI.recurse" class="link_ref" title="&lt;recurse&gt;">&lt;recurse&gt;</a> element in the case where the document collection may be nested (as is common with
                     static sites generated from Jekyll or Wordpress). The <a href="schemaSpec.html#TEI.recurse" class="link_ref" title="&lt;recurse&gt;">&lt;recurse&gt;</a> element is a boolean (true or false) that determines whether or not to recurse into
                     the subdirectories of the collection and index those files.</p>
                  </div>
               
               <div class="teidiv3" id="paramsOptional">
                  
                  <h4><span class="headingNumber">7.5.1.2 </span><span class="head">Optional parameters</span></h4>
                  
                  <p>The following parameters are optional, but most projects will want to specify some
                     of them:  </p>
                  
                  <ul class="specList">
                     
                     <li class="item"><span class="specList-elementSpec"><a href="schemaSpec.html#TEI.versionFile" class="link_ref" title="&lt;versionFile&gt;">versionFile</a></span> (<span>The relative path to a text file containing a single version identifier (such as 1.5,
                           123456, or 06ad419). This will be used to create unique filenames for JSON resources,
                           so that the browser will not use cached versions of older index files.</span>)</li>
                     </ul>
                  
                  <p> <span style="display:block" class="p"><a href="schemaSpec.html#TEI.versionFile" class="link_ref" title="&lt;versionFile&gt;">&lt;versionFile&gt;</a> enables you to specify the path to a plain-text file containing a simple version
                        number for the project. This might take the form of a software-release-style version
                        number such as <span class="val">1.5</span>, or it might be a Subversion revision number or a Git commit hash. It should not
                        contain any spaces or punctuation. If you provide a version file, the version string
                        will be used as part of the filenames for all the JSON resources created for the search.
                        This is useful because it allows the browser to cache such resources when users repeatedly
                        visit the search page, but if the project is rebuilt with a new version, those cached
                        files will not be used because the new version will have different filenames. The
                        path specified is relative to the location of the configuration file (or absolute,
                        if you wish).</span> </p>
                  
                  <ul class="specList">
                     
                     <li class="item"><span class="specList-elementSpec"><a href="schemaSpec.html#TEI.phrasalSearch" class="link_ref" title="&lt;phrasalSearch&gt;">phrasalSearch</a></span> (<span>Whether or not to support phrasal searches. If this is true, then the maxContexts
                           setting will be ignored, because all contexts are required to properly support phrasal
                           search.</span>)</li>
                     </ul>
                  
                  <p> <span style="display:block" class="p">Phrasal search functionality enables your users to search for specific phrases by
                        surrounding them with quotation marks (<code>"</code>), as in many search engines. In order to support this kind of search, <a href="schemaSpec.html#TEI.createContexts" class="link_ref" title="&lt;createContexts&gt;">&lt;createContexts&gt;</a> must also be set to true as we store contexts for all hits for each token in each
                        document. Turning this on will make the index larger, because all contexts must be
                        stored, but once the index is built, it has very little impact on the speed of searches,
                        so we recommend turning this on. The default value is true.</span> <span style="display:block" class="p">However, if your site is very large and your user base is unlikely to use phrasal
                        searching, it may not be worth the additional build time and increased index size.</span> </p>
                  
                  <ul class="specList">
                     
                     <li class="item"><span class="specList-elementSpec"><a href="schemaSpec.html#TEI.stemmerFolder" class="link_ref" title="&lt;stemmerFolder&gt;">stemmerFolder</a></span> (<span>The name of a folder inside the staticSearch /stemmers/ folder, in which the JavaScript
                           and XSLT implementations of stemmers can be found. If left blank, then the staticSearch
                           default English stemmer (en) will be used.</span>)</li>
                     </ul>
                  
                  <p> <span style="display:block" class="p">The staticSearch project currently has only two real stemmers: an implementation of
                        the Porter 2 algorithm for modern English, and an implementation of the French Snowball
                        stemmer. These appear in the <span class="ident">/stemmers/en/</span> and <span class="ident">/stemmers/fr/</span> folders. The default value for this parameter is <span class="val">en</span>; to use the French stemmer, use <span class="val">fr</span>. We will be adding more stemmers as the project develops. However, if your document
                        collection is not English or French, you have a couple of options, one hard and one
                        easy. </span></p>
                  
                  <ul>
                     
                     <li class="item"><em>Hard option</em>: implement your own stemmers. You will need to write two implementations of the stemmer
                        algorithm, one in XSLT (which must be named <span class="ident">ssStemmer.xsl</span>) and one in JavaScript (<span class="ident">ssStemmer.js</span>), and confirm that they both generate the same results. The XSLT stemmer is used
                        in the generation of the index files at build time, and the JavaScript version is
                        used to stem the user's input in the search page. You can look at the existing implementations
                        in the <span class="ident">/stemmers/en/</span> folder to see how the stemmers need to be constructed. Place your stemmers in a folder
                        called <span class="ident">/stemmers/[yourlang]/</span>, and specify <span class="val">yourlang</span> in the configuration file.</li>
                     
                     <li class="item"><em>Easy option</em>: Use the <span class="ident">identity stemmer</span> (which is equivalent to turning off stemming completely), and make sure wildcard
                        searching is turned on. Then your users can search using wildcards instead of having
                        their search terms automatically stemmed. To do this, specify the value <span class="val">identity</span> in your configuration file.</li>
                     </ul>
                  
                  <p><span style="display:block" class="p"> Another alternative is the <span class="ident">stripDiacritics</span> stemmer. Like the <span class="ident">identity stemmer</span>, this is not really a stemmer at all; what it does is to strip out all combining
                        diacritics from tokens. This is a useful approach if you document collection contains
                        texts with accents and diacritics, but your users may be unfamiliar with the use of
                        diacritics and will want to search just with plain unaccented characters. For example,
                        if a text contains the word <span class="mentioned">élève</span>, but you would like searchers to be able to find the word simply by typing the ascii
                        string <span class="mentioned">eleve</span>, then this is a good option. Combined with wildcards, it can provide a very flexible
                        and user-friendly search engine in the absence of a sophisticated stemmer, or for
                        cases where there are mixed languages so a single stemmer will not do. To use this
                        option, specify the value <span class="val">stripDiacritics</span> in your configuration file.</span> </p>
                  
                  <ul class="specList">
                     
                     <li class="item"><span class="specList-elementSpec"><a href="schemaSpec.html#TEI.scoringAlgorithm" class="link_ref" title="&lt;scoringAlgorithm&gt;">scoringAlgorithm</a></span> (<span>The scoring algorithm to use for ranking keyword results. Default is "raw" (i.e. weighted
                           counts)</span>)</li>
                     </ul>
                  
                  <p> <span style="display:block" class="p"><a href="schemaSpec.html#TEI.scoringAlgorithm" class="link_ref" title="&lt;scoringAlgorithm&gt;">&lt;scoringAlgorithm&gt;</a> is an optional element that specifies which scoring algorithm to use when calculating
                        the score of a term and thus the order in which the results from a search are sorted.
                        There are currently two options: </span></p>
                  
                  <ul>
                     
                     <li class="item"><span class="val">raw</span>: This is the default option (and so does not need to be set explicitly). The raw
                        score is simply the sum of all instances of a term (optionally multipled by a configured
                        weight via the <a href="schemaSpec.html#TEI.rule" class="link_ref" title="&lt;rule&gt;">&lt;rule&gt;</a>/<span class="att">weight</span> <a class="link_ref" href="#specifyingRules" title="Specifying rules (optional)">configuration</a>) in a document. This will usually provide good results for most document collections.</li>
                     
                     <li class="item"><span class="val">tf-idf</span>: The tf-idf algorithm (term frequency-inverse document frequency) computes the mathematical
                        relevance of a term within a document relative to the rest of the document collection.
                        The staticSearch implementation of tf-idf basically follows the textbook definition
                        of tf-idf: tf-idf = ($instancesOfTerm / $totalTermsInDoc) * log( $allDocumentsCount
                        / $docsWithThisTermCount ) This is fairly crude compared to other search engines,
                        like <a class="link_ref" href="https://lucene.apache.org/core/3_5_0/scoring.html">Lucene</a>, but it may provide useful results for document collections of varying lengths or
                        in instances where the raw score may be insufficient or misleading. There are a number
                        of resources on tf-idf scoring, including: <a class="link_ref" href="https://en.wikipedia.org/wiki/Tf%E2%80%93idf">Wikipedia</a> and Christopher D. Manning, Prabhakar Raghavan and Hinrich Schütze, <a class="link_ref" href="https://nlp.stanford.edu/IR-book/html/htmledition/tf-idf-weighting-1.html">Introduction to Information Retrieval</a>, Cambridge University Press. 2008.</li>
                     </ul>
                  
                  <p> </p>
                  
                  <ul class="specList">
                     
                     <li class="item"><span class="specList-elementSpec"><a href="schemaSpec.html#TEI.createContexts" class="link_ref" title="&lt;createContexts&gt;">createContexts</a></span> (<span>Whether to include keyword-in-context extracts in the index.</span>)</li>
                     </ul>
                  
                  <p> <span style="display:block" class="p"><a href="schemaSpec.html#TEI.createContexts" class="link_ref" title="&lt;createContexts&gt;">&lt;createContexts&gt;</a> is a boolean parameter that specifies whether you want the indexer to store keyword-in-context
                        extracts for each of the hits in a document. This increases the size of the index,
                        but of course it makes for much more user-friendly search results; instead of seeing
                        just a score for each document found, the user will see a series of short text strings
                        with the search keyword(s) highlighted.</span> <span style="display:block" class="p">Note that contexts are necessary for phrasal searching or wildcard searching.</span> </p>
                  
                  <ul class="specList">
                     
                     <li class="item"><span class="specList-elementSpec"><a href="schemaSpec.html#TEI.minWordLength" class="link_ref" title="&lt;minWordLength&gt;">minWordLength</a></span> (<span>The minimum length of a term to be indexed. Default is 3 characters.</span>)</li>
                     </ul>
                  
                  <p> <span style="display:block" class="p"><a href="schemaSpec.html#TEI.minWordLength" class="link_ref" title="&lt;minWordLength&gt;">&lt;minWordLength&gt;</a> specifies the minimum length in characters of a sequence of text that will be considered
                        to be a word worth indexing. The default is 3, on the basis that in most European
                        languages, words of one or two letters are typically not worth indexing, being articles,
                        prepositions and so on. If you set this to a lower limit for reasons specific to your
                        project, you should ensure that your stopword list excludes any very common words
                        that would otherwise make the indexing process lengthy and increase the index size.</span> </p>
                  
                  <ul class="specList">
                     
                     <li class="item"><span class="specList-elementSpec"><a href="schemaSpec.html#TEI.maxKwicsToHarvest" class="link_ref" title="&lt;maxKwicsToHarvest&gt;">maxKwicsToHarvest</a></span> (<span>This controls the maximum number of keyword-in-context extracts that will be stored
                           for each term in a document.</span>)</li>
                     </ul>
                  
                  <p> <span style="display:block" class="p"><a href="schemaSpec.html#TEI.maxKwicsToHarvest" class="link_ref" title="&lt;maxKwicsToHarvest&gt;">&lt;maxKwicsToHarvest&gt;</a> controls the number of keyword-in-context extracts that will be harvested from the
                        data for each term in a document. For example, if a user searches for the word <span class="q">‘elephant’</span>, and it occurs 27 times in a document, but the <a href="schemaSpec.html#TEI.maxKwicsToHarvest" class="link_ref" title="&lt;maxKwicsToHarvest&gt;">&lt;maxKwicsToHarvest&gt;</a> value is set to 5, then only the first five (sorted in document order) of these keyword-in-context
                        strings will be stored in the index. (This does not affect the score of the document
                        in the search results, of course.) If you set this to a low number, the size of the
                        JSON files will be constrained, but of course the user will only be able to see the
                        KWICs that have been harvested in their search results.</span> <span style="display:block" class="p">If <a href="schemaSpec.html#TEI.phrasalSearch" class="link_ref" title="&lt;phrasalSearch&gt;">&lt;phrasalSearch&gt;</a> is set to true, the <a href="schemaSpec.html#TEI.maxKwicsToHarvest" class="link_ref" title="&lt;maxKwicsToHarvest&gt;">&lt;maxKwicsToHarvest&gt;</a> setting is ignored, because phrasal searches will only work properly if all contexts
                        are stored.</span> </p>
                  
                  <ul class="specList">
                     
                     <li class="item"><span class="specList-elementSpec"><a href="schemaSpec.html#TEI.maxKwicsToShow" class="link_ref" title="&lt;maxKwicsToShow&gt;">maxKwicsToShow</a></span> (<span>This controls the maximum number of keyword-in-context extracts that will be shown
                           in the search page for each hit document returned.</span>)</li>
                     </ul>
                  
                  <p> <span style="display:block" class="p">A user may search for multiple common words, so hundreds of hits could be found in
                        a single document. If the keyword-in-context strings for all these hits are shown
                        on the results page, it would be too long and too difficult to navigate. This setting
                        controls how many of those hits you want to show for each document in the result set.</span> </p>
                  
                  <ul class="specList">
                     
                     <li class="item"><span class="specList-elementSpec"><a href="schemaSpec.html#TEI.totalKwicLength" class="link_ref" title="&lt;totalKwicLength&gt;">totalKwicLength</a></span> (<span>If createContexts is set to true, then this parameter controls the length (in words)
                           of the harvested keyword-in-context string.</span>)</li>
                     </ul>
                  
                  <p> <span style="display:block" class="p">Obviously, the longer the keyword-in-context strings are, the larger the individual
                        index files will be, but the more useful the KWICs will be for users looking at the
                        search results. Note that the phrasal searching relies on the KWICs and thus longer
                        KWICs allow for longer phrasal searches.</span> </p>
                  
                  <ul class="specList">
                     
                     <li class="item"><span class="specList-elementSpec"><a href="schemaSpec.html#TEI.kwicTruncateString" class="link_ref" title="&lt;kwicTruncateString&gt;">kwicTruncateString</a></span> (<span>The string that will be used to signal ellipsis at the beginning and end of a keyword-in-context
                           extract. Conventionally three periods, or an ellipsis character (which is the default
                           value).</span>)</li>
                     </ul>
                  
                  <p> <span style="display:block" class="p">The only reason you might need to specify a value for this parameter is if the language
                        of your search page conventionally uses a different ellipsis character. Japanese,
                        for example, uses the 3-dot-leader character.</span> </p>
                  
                  <ul class="specList">
                     
                     <li class="item"><span class="specList-elementSpec"><a href="schemaSpec.html#TEI.linkToFragmentId" class="link_ref" title="&lt;linkToFragmentId&gt;">linkToFragmentId</a></span> (<span>Whether to link keyword-in-context extracts to the nearest id in the document. Default
                           is true.</span>)</li>
                     </ul>
                  
                  <p> <span style="display:block" class="p"><a href="schemaSpec.html#TEI.linkToFragmentId" class="link_ref" title="&lt;linkToFragmentId&gt;">&lt;linkToFragmentId&gt;</a> is a boolean parameter that specifies whether you want the search engine to link
                        each keyword-in-context extract with the closest element that has an <span class="att">id</span>. If the element has an ancestor with an <span class="att">id</span>, then the indexer will associate that keyword-in-context extract with that <span class="att">id</span>; if there are no suitable ancestor elements that have an <span class="att">id</span>, then the extract is associated with first preceding element with an <span class="att">id</span>.</span> <span style="display:block" class="p">We strongly recommend that you ensure your target documents have id attributes for
                        any significant divisions so that this parameter can be used effectively. With lots
                        of ids throughout your documents, and this parameter turned on, each keyword-in-context
                        in the results page will be linked directly to the section of the document in which
                        the hit appears, making the search results much more useful.</span> </p>
                  
                  <ul class="specList">
                     
                     <li class="item"><span class="specList-elementSpec"><a href="schemaSpec.html#TEI.scrollToTextFragment" class="link_ref" title="&lt;scrollToTextFragment&gt;">scrollToTextFragment</a></span> (<span>WARNING: Experimental technology. This turns on a feature currently only supported
                           by a subset of browsers, enabling links from keyword-in-context results directly to
                           the specific text string in the target document.</span>)</li>
                     </ul>
                  
                  <p> <span style="display:block" class="p">Google has proposed a browser feature called <a class="link_ref" href="https://wicg.github.io/scroll-to-text-fragment/">Text Fragments</a>, which would support a special kind of link that targets a specific string of text
                        inside a page. When clicking on such a link, the browser would scroll to, and then
                        highlight, the target text. This has been implemented in Chrome-based browsers (Chrome,
                        Chromium and Edge) at the time of writing, but other browser producers are sceptical
                        with regard to the specification and worried about possible security implications.
                        The specification is subject to radical change. <a href="schemaSpec.html#TEI.scrollToTextFragment" class="link_ref" title="&lt;scrollToTextFragment&gt;">&lt;scrollToTextFragment&gt;</a> is a boolean parameter that specifies whether you want to turn on this feature for
                        browsers that support it. It depends on the availability of keyword-in-context strings,
                        so <a href="schemaSpec.html#TEI.createContexts" class="link_ref" title="&lt;createContexts&gt;">&lt;createContexts&gt;</a> must also be turned on to make it work. The feature is automatically suppressed for
                        browsers which do not support it. We recommend only using this feature on sites which
                        are in steady development, so that if necessary it can be turned off, our the staticSearch
                        implementation can be updated to take account of changes. For sites intended to remain
                        unchanged or archived for any length of time, this feature should be left turned off.
                        It is off by default. A more reliable alternative is probably to use JavaScript to
                        <a class="link_ref" href="#highlightTargetPage" title="Highlighting search hits on target pages">highlight hits on the target page</a>.</span> </p>
                  
                  <ul class="specList">
                     
                     <li class="item"><span class="specList-elementSpec"><a href="schemaSpec.html#TEI.resultsPerPage" class="link_ref" title="&lt;resultsPerPage&gt;">resultsPerPage</a></span> (<span>The maximum number of document results to be displayed per page. All results are displayed
                           by default; setting resultsPerPage to a positive integer creates a Show More/Show
                           All widget at the bottom of the batch of results.</span>)</li>
                     </ul>
                  
                  <p> <span style="display:block" class="p">For most sites, where the number of results is likely to be in the low thousands,
                        it's perfectly practical to show all the results at once, because the staticSearch
                        processor is so fast. However, if you have tens of thousands of documents, and it's
                        possible that users will do (for example) filter-only searches that retrieve a large
                        proportion of them, you can constrain the number of results which are shown initially
                        using this setting. All the results are still generated and output to the page, but
                        since most of them are hidden until the ‘Show More’ or ‘Show All’ button is clicked,
                        the browser will render them much more quickly.</span> </p>
                  
                  <ul class="specList">
                     
                     <li class="item"><span class="specList-elementSpec"><a href="schemaSpec.html#TEI.verbose" class="link_ref" title="&lt;verbose&gt;">verbose</a></span> (<span>Turns on more detailed reporting during the indexing process.</span>)</li>
                     </ul>
                  
                  <p> <span style="display:block" class="p">The staticSearch build process can be lengthy, and if something goes wrong it can
                        be difficult to figure out where the problem was. If you're having build problems,
                        turn on verbose messages in the configuration file to help with debugging, and you'll
                        see a lot more output at the command line.</span> </p>
                  
                  <ul class="specList">
                     
                     <li class="item"><span class="specList-elementSpec"><a href="schemaSpec.html#TEI.stopwordsFile" class="link_ref" title="&lt;stopwordsFile&gt;">stopwordsFile</a></span> (<span>The relative path (from the config file) to a text file containing a list of stopwords
                           (words to be ignored when indexing). </span>)</li>
                     </ul>
                  
                  <p> <span style="display:block" class="p">A stopword is a word that will not be indexed, because it is too common (<span class="mentioned">the</span>, <span class="mentioned">a</span>, <span class="mentioned">you</span> and so on). There are common stopwords files for most languages available on the
                        Web, but it is probably a good idea to take one of these and customize it for your
                        project, since there will be words in the website which are so common that it makes
                        no sense to index them, but they are not ordinary stopwords. For example, in a Website
                        dedicated to the work of John Keats, the name <span class="mentioned">keats</span> should probably be added to the stopwords file, since almost every page will include
                        it, and searching for it will be pointless. The project has a built-in set of common
                        stopwords for English, which you'll find in <span class="ident">xsl/english_stopwords.txt</span>. One way to find appropriate stopwords for your site is to generate your index, then
                        search for the largest JSON index files that are generated, to see if they might be
                        too common to be useful as search terms. You can also use the <span class="titlem">Word Frequency</span> table in the generated staticSearch report (see <a class="link_ptr" href="#theStaticSearchReport" title="Generated report"><span class="headingNumber">7.8 </span>Generated report</a>).</span>  </p>
                  
                  <ul class="specList">
                     
                     <li class="item"><span class="specList-elementSpec"><a href="schemaSpec.html#TEI.dictionaryFile" class="link_ref" title="&lt;dictionaryFile&gt;">dictionaryFile</a></span> (<span>The relative path (from the config file) to a dictionary file (one word per line)
                           which will be used to check tokens when indexing.</span>)</li>
                     </ul>
                  
                  <p> <span style="display:block" class="p">The indexing process checks each word as it builds the index, and keeps a record of
                        all words which are not found in the configured dictionary. Though this does not have
                        any direct effect in the indexing process, all words not found in the dictionary are
                        listed in the staticSearch report (see <a class="link_ptr" href="#theStaticSearchReport" title="Generated report"><span class="headingNumber">7.8 </span>Generated report</a>). This can be very useful: all words listed are either foreign (not part of the language
                        of the dictionary) or perhaps misspelled (in which case they may not be correctly
                        stemmed and index, and should be corrected). There is a default dictionary in <span class="ident">xsl/english_words.txt</span> which you might copy and adapt if you're working in English; lots of dictionaries
                        for other languages are available on the Web.</span> </p>
                  
                  <ul class="specList">
                     
                     <li class="item"><span class="specList-elementSpec"><a href="schemaSpec.html#TEI.indentJSON" class="link_ref" title="&lt;indentJSON&gt;">indentJSON</a></span> (<span>Whether or not to indent code in the JSON index files. Indenting increases the file
                           size, but it can be useful if you need to read the files for debugging purposes.</span>)</li>
                     </ul>
                  
                  <p> <span style="display:block" class="p">Normally, the JSON index files will only be processed by JavaScript, so there is no
                        need to indent them, but if you are debugging or investigating how the code works,
                        you may find it useful to generate them in a more human-readable layout.</span> </p>
                  
                  <ul class="specList">
                     
                     <li class="item"><span class="specList-elementSpec"><a href="schemaSpec.html#TEI.outputFolder" class="link_ref" title="&lt;outputFolder&gt;">outputFolder</a></span> (<span>The name of the output folder into which the index data and JavaScript will be placed
                           in the site search. This should conform with the XML Name specification.</span>)</li>
                     </ul>
                  
                  <p> <span style="display:block" class="p">When the staticSearch build process creates its output, many files need to be added
                        to the website for which an index is being created. For convenience, all of these
                        files are stored in a single folder. This element is used to specify the name of that
                        folder. The default is <span class="val">staticSearch</span>, but if you would prefer something else, you can specify it here. You may also use
                        this element if you are defining two different searches within the same site, so that
                        their files are kept in different locations.</span></p>
                  </div>
               </div>
            
            <div class="teidiv2" id="specifyingRules">
               
               <h3><span class="headingNumber">7.5.2 </span><span class="head">Specifying rules (optional)</span></h3>
               
               <ul class="specList">
                  
                  <li class="item"><span class="specList-elementSpec"><a href="schemaSpec.html#TEI.rules" class="link_ref" title="&lt;rules&gt;">rules</a></span> (<span>The set of rules that control weighting of search terms found in specific contexts.</span>)</li>
                  
                  <li class="item"><span class="specList-elementSpec"><a href="schemaSpec.html#TEI.rule" class="link_ref" title="&lt;rule&gt;">rule</a></span> (<span>A rule that specifies a document path as XPath in the match attribute, and provides
                        weighting for search terms found in that context.</span>) 
                     
                     <div class="table">
                        
                        <table class="specDesc">
                           
                           <tr>
                              
                              <td class="Attribute"><span class="att">match [att.match]</span></td>
                              
                              <td>(<span>An XPath equivalent to the @match attribute of an xsl:template, which specifies a
                                    context in a document.</span>)</td>
                              </tr>
                           
                           <tr>
                              
                              <td class="Attribute"><span class="att">weight</span></td>
                              
                              <td>(<span>The weighting to give to a search token found in the context specified by the match
                                    attribute. Set to 0 to completely suppress indexing for a specific context, or greater
                                    than 1 to give stronger weighting.</span>)</td>
                              </tr>
                           </table>
                        </div>
                     </li>
                  </ul>
               
               <p> <span style="display:block" class="p">The rule element is used to identify nodes in the XHTML document collection which
                     should be treated in a special manner when indexed; either they might be ignored (if
                     <span class="att">weight</span>=<span class="val">0</span>), or any words found in them might be given greater weight than words in normal contexts
                     <span class="att">weight</span>&gt;<span class="val">1</span>. Words appearing in headings or titles, for example, might be weighted more heavily,
                     while navigation menus, banners, or footers might be ignored completely.</span></p>
               
               <div class="p">The <a href="schemaSpec.html#TEI.rules" class="link_ref" title="&lt;rules&gt;">&lt;rules&gt;</a> elements specifies a list of conditions (using the <a href="schemaSpec.html#TEI.rule" class="link_ref" title="&lt;rule&gt;">&lt;rule&gt;</a> element) that tell the parser, using XPath statements in the <span class="att">match</span> attribute, specific weights to assign to particular parts of each document. For instance,
                  if you wanted all heading elements (<span class="gi">&lt;h1&gt;</span>, <span class="gi">&lt;h2&gt;</span>, etc) in documents to be given a greater weight and thus receive a higher score in
                  the results, you can do so using a rule like so: 
                  
                  <div id="index.xml-egXML-d38e951" class="pre egXML_valid"><span class="element">&lt;rules&gt;</span><br/> <span class="element">&lt;rule <span class="attribute">weight</span>="<span class="attributevalue">2</span>"<br/>  <span class="attribute">match</span>="<span class="attributevalue">h1 | h2 | h3 | h4 | h5 | h6</span>"/&gt;</span><br/><span class="element">&lt;/rules&gt;</span></div> Since we're using XPath 3.0 and XSLT 3.0, this can also be simplified to: 
                  
                  <div id="index.xml-egXML-d38e955" class="pre egXML_valid"><span class="element">&lt;rules&gt;</span><br/> <span class="element">&lt;rule <span class="attribute">weight</span>="<span class="attributevalue">2</span>"<br/>  <span class="attribute">match</span>="<span class="attributevalue">*[matches(local-name(),'^h\d+$')]</span>"/&gt;</span><br/><span class="element">&lt;/rules&gt;</span></div> (It is worth noting, however, the above example is unnecessary: all heading elements
                  are given a weight of 2 by default, which is the only preconfigured weight in staticSearch.)</div>
               
               <p>The value of the <span class="att">match</span> attribute is transformed in a XSLT template match attribute, and thus must follow
                  the same rules (i.e. no complex rules like <code>p/ancestor::div</code>). See the <a class="link_ref" href="https://www.w3.org/TR/xslt-30/#dt-pattern">W3C XSLT Specification</a> for further details on allowable pattern rules.</p>
               
               <div class="p">Often, there will be elements that you want the tokenizer to ignore completely; for
                  instance, if you have the same header in every document, then there's no reason to
                  index its contents on every page. These elements can be ignored simply by using a
                  <a href="schemaSpec.html#TEI.rule" class="link_ref" title="&lt;rule&gt;">&lt;rule&gt;</a> and setting its weight to 0. For instance, if you want to remove the header and the
                  footer from the search indexing process, you could write something like: 
                  
                  <div id="index.xml-egXML-d38e974" class="pre egXML_valid"><span class="element">&lt;rule <span class="attribute">weight</span>="<span class="attributevalue">0</span>" <span class="attribute">match</span>="<span class="attributevalue">footer | header</span>"/&gt;</span></div> Or if you want to remove XHTML anchor tags (<span class="gi">&lt;a&gt;</span>) whose text is identical to the URL specified in its <span class="att">href</span>, you could do something like: 
                  
                  <div id="index.xml-egXML-d38e982" class="pre egXML_valid"><span class="element">&lt;rule <span class="attribute">weight</span>="<span class="attributevalue">0</span>" <span class="attribute">match</span>="<span class="attributevalue">a[@href=./text()]</span>"/&gt;</span></div>
                  </div>
               
               <p>Note that the indexer does not tokenize any content in the <span class="gi">&lt;head&gt;</span> of the document (but as noted in <a class="link_ptr" href="#filters" title="Configuring your site search filters"><span class="headingNumber">7.1 </span>Configuring your site: search filters</a>, metadata can be configured into filters) and that all elements in the <span class="gi">&lt;body&gt;</span> of a document are considered tokenizable. However, common elements that you might
                  want to exclude include: </p>
               
               <ul>
                  
                  <li class="item"><span class="gi">&lt;script&gt;</span></li>
                  
                  <li class="item"><span class="gi">&lt;style&gt;</span></li>
                  
                  <li class="item"><span class="gi">&lt;code&gt;</span></li>
                  </ul>
               </div>
            
            <div class="teidiv2" id="specifyingContexts">
               
               <h3><span class="headingNumber">7.5.3 </span><span class="head">Specifying contexts (optional)</span></h3>
               
               <ul class="specList">
                  
                  <li class="item"><span class="specList-elementSpec"><a href="schemaSpec.html#TEI.contexts" class="link_ref" title="&lt;contexts&gt;">contexts</a></span> (<span>The set of context elements that identify contexts for keyword-in-context fragments.</span>)</li>
                  
                  <li class="item"><span class="specList-elementSpec"><a href="schemaSpec.html#TEI.context" class="link_ref" title="&lt;context&gt;">context</a></span> (<span>A context definition, providing a match attribute that identifies the context, allowing
                        keyword-in-context fragments to be bounded by a specific context.</span>) 
                     
                     <div class="table">
                        
                        <table class="specDesc">
                           
                           <tr>
                              
                              <td class="Attribute"><span class="att">match [att.match]</span></td>
                              
                              <td>(<span>An XPath equivalent to the @match attribute of an xsl:template, which specifies a
                                    context in a document.</span>)</td>
                              </tr>
                           </table>
                        </div>
                     </li>
                  </ul>
               
               <p> <span style="display:block" class="p">When the indexer is extracting keyword-in-context strings for each word, it uses a
                     common-sense approach based on common element definitions, so that for example when
                     it reaches the end of a paragraph, it will not continue into the next paragraph to
                     get more context words. You may have special runs of text in your document collection
                     which do not appear to be bounding contexts, but actually are; for example, you may
                     have span elements with <span class="att">class</span>=<span class="val">note</span> that appear in the middle of sentences but are not actually part of them. Use <a href="schemaSpec.html#TEI.context" class="link_ref" title="&lt;context&gt;">&lt;context&gt;</a> elements to identify these special contexts so that the indexer knows the right boundaries
                     from which to retrieve its keyword-in-context strings.</span></p>
               
               <div class="p">When the staticSearch creates the keywords-in-context strings (the "kwic" or "snippets")
                  for each token, it does so by looking for the nearest block-level element that it
                  can use as its context. Take, for instance, this unordered list: 
                  
                  <div id="index.xml-egXML-d38e1044" class="pre egXML_valid"><span class="element">&lt;ul&gt;</span><br/> <span class="element">&lt;li&gt;</span>Keyword-in-context search results. This is also configurable, since including contexts<br/>   increases the size of the index.<span class="element">&lt;/li&gt;</span><br/> <span class="element">&lt;li&gt;</span>Search filtering using any metadata you like, allowing users to limit their search
                     to specific<br/>   document types.<span class="element">&lt;/li&gt;</span><br/><span class="element">&lt;/ul&gt;</span></div> Each <span class="gi">&lt;li&gt;</span> elements is, by default, a <span class="term">context</span> element, meaning that the snippet generated for each token will not extend beyond
                  the <span class="gi">&lt;li&gt;</span> element boundaries; in this case, if the <span class="gi">&lt;li&gt;</span> was not a context attribute, the term <span class="q">‘search’</span> would produce a context that looks something like: 
                  
                  <pre id="index.xml-eg-d38e1062" class="pre_eg">"...the size of the index.<span style="font-weight:bold;">Search</span> filtering using any metadata you like,..."<a href="#index.xml-eg-d38e1062" class="anchorlink">⚓</a></pre>
                  </div>
               
               <div class="p">Using the <a href="schemaSpec.html#TEI.contexts" class="link_ref" title="&lt;contexts&gt;">&lt;contexts&gt;</a> element, you can control what elements operate as contexts. For instance, say a page
                  contained a marginal note, encoded as a <span class="gi">&lt;span&gt;</span> in your document beside its point of attachment:<span id="Note1_return"><a class="notelink" title="This example taken from Thomas S. Kuhn, The Structure of Scientific Revolutions (50th anniversary edition), University of Chicago Press, 2012: p. 191." href="#Note1"><sup>1</sup></a></span> 
                  
                  <div id="index.xml-egXML-d38e1080" class="pre egXML_valid"><span class="element">&lt;p&gt;</span>About that program I shall have nothing to say here,<span class="element">&lt;span <span class="attribute">class</span>="<span class="attributevalue">sidenote</span>"&gt;</span>Some information on this subject can be found in "Second Thoughts"<span class="element">&lt;/span&gt;</span> [...]<br/><span class="element">&lt;/p&gt;</span></div> Using CSS, the footnote might be alongside the text of the document in margin, or
                  made into a clickable object using Javascript. However, since the tokenizer is unaware
                  of any server-side processing, it understands the <span class="gi">&lt;span&gt;</span> as an inline element and assumes the <span class="gi">&lt;p&gt;</span> constitutes the context of the element. A search for <span class="q">‘information’</span> might then return: 
                  
                  <pre id="index.xml-eg-d38e1094" class="pre_eg">"...nothing to say here,Some <span style="font-weight:bold;">information</span> on this subject can be found...<a href="#index.xml-eg-d38e1094" class="anchorlink">⚓</a></pre> To tell the tokenizer that the <span class="gi">&lt;span&gt;</span> constitutes the context block for any of its tokens, use the <a href="schemaSpec.html#TEI.context" class="link_ref" title="&lt;context&gt;">&lt;context&gt;</a> element with an <span class="att">match</span> pattern: 
                  
                  <div id="index.xml-egXML-d38e1109" class="pre egXML_valid"><span class="element">&lt;contexts&gt;</span><br/> <span class="element">&lt;context <span class="attribute">match</span>="<span class="attributevalue">span[contains-token(@class,'sidenote')]</span>"/&gt;</span><br/><span class="element">&lt;/contexts&gt;</span></div>
                  </div>
               
               <div class="p">You can also configure it the other way: if a <span class="gi">&lt;div&gt;</span>, which is by default a context block, should not be understood as a context block,
                  then you can tell the parser to not consider it as such using <span class="att">context</span> set to false: 
                  
                  <div id="index.xml-egXML-d38e1119" class="pre egXML_valid"><span class="element">&lt;contexts&gt;</span><br/> <span class="element">&lt;context <span class="attribute">match</span>="<span class="attributevalue">div</span>" <span class="attribute">context</span>="<span class="attributevalue">false</span>"/&gt;</span><br/><span class="element">&lt;/contexts&gt;</span></div>
                  </div>
               
               <p>The default contexts elements are: </p>
               
               <ul>
                  
                  <li class="item"><span class="gi">&lt;body&gt;</span></li>
                  
                  <li class="item"><span class="gi">&lt;div&gt;</span></li>
                  
                  <li class="item"><span class="gi">&lt;blockquote&gt;</span></li>
                  
                  <li class="item"><span class="gi">&lt;p&gt;</span></li>
                  
                  <li class="item"><span class="gi">&lt;li&gt;</span></li>
                  
                  <li class="item"><span class="gi">&lt;section&gt;</span></li>
                  
                  <li class="item"><span class="gi">&lt;article&gt;</span></li>
                  
                  <li class="item"><span class="gi">&lt;nav&gt;</span></li>
                  
                  <li class="item"><span class="gi">&lt;h1&gt;</span></li>
                  
                  <li class="item"><span class="gi">&lt;h2&gt;</span></li>
                  
                  <li class="item"><span class="gi">&lt;h3&gt;</span></li>
                  
                  <li class="item"><span class="gi">&lt;h4&gt;</span></li>
                  
                  <li class="item"><span class="gi">&lt;h5&gt;</span></li>
                  
                  <li class="item"><span class="gi">&lt;h6&gt;</span></li>
                  
                  <li class="item"><span class="gi">&lt;td&gt;</span></li>
                  </ul>
               </div>
            
            <div class="teidiv2" id="specifyingExclusions">
               
               <h3><span class="headingNumber">7.5.4 </span><span class="head">Specifying exclusions (optional)</span></h3>
               
               <ul class="specList">
                  
                  <li class="item"><span class="specList-elementSpec"><a href="schemaSpec.html#TEI.excludes" class="link_ref" title="&lt;excludes&gt;">excludes</a></span> (<span>The set of exclusions, expressed as exclude elements, that control the subset of documents
                        or filters used for a particular search.</span>)</li>
                  
                  <li class="item"><span class="specList-elementSpec"><a href="schemaSpec.html#TEI.exclude" class="link_ref" title="&lt;exclude&gt;">exclude</a></span> (<span>An exclusion definition, which excludes either documents or filters as defined by
                        an XPath in the match attribute.</span>) 
                     
                     <div class="table">
                        
                        <table class="specDesc">
                           
                           <tr>
                              
                              <td class="Attribute"><span class="att">type</span></td>
                              
                              <td></td>
                              </tr>
                           
                           <tr>
                              
                              <td class="Attribute"><span class="att">match [att.match]</span></td>
                              
                              <td>(<span>An XPath equivalent to the @match attribute of an xsl:template, which specifies a
                                    context in a document.</span>)</td>
                              </tr>
                           </table>
                        </div>
                     </li>
                  </ul>
               
               <p> <span style="display:block" class="p"><a href="schemaSpec.html#TEI.exclude" class="link_ref" title="&lt;exclude&gt;">&lt;exclude&gt;</a> can be used to identify documents or parts of documents that are to be omitted from
                     indexing, but, unlike setting <span class="gi">&lt;weight&gt;</span> to zero, should be retained during the indexing process. This is helpful in cases
                     where the text itself should be ignored by the indexer, but should still appear in
                     KWICs. Another common use is for multiple search engines/pages that each have their
                     own special features; in this case, you may want one specific search index/page to
                     ignore filter controls (HTML <span class="gi">&lt;meta&gt;</span> elements, as described in <a href="searchFacetFeatures.html" class="link_ptr" title="Search facet features"><span class="headingNumber">4 </span>Search facet features</a>) which are provided to support other search pages.</span></p>
               
               <p>A complex site may have two or more search pages targetting specific types of document
                  or content, each of which may need its own particular search controls and indexes.
                  This can easily be achieved by specifying a different <a href="schemaSpec.html#TEI.searchFile" class="link_ref" title="&lt;searchFile&gt;">&lt;searchFile&gt;</a> and <a href="schemaSpec.html#TEI.outputFolder" class="link_ref" title="&lt;outputFolder&gt;">&lt;outputFolder&gt;</a> in the configuration file for each search.</p>
               
               <div class="p">For these searches to be different from each other, they will also probably have different
                  contexts and rules. For example, imagine that you are creating a special search page
                  that focuses only on the text describing images or figures in your documents. You
                  might do it like this: 
                  
                  <div id="index.xml-egXML-d38e1213" class="pre egXML_valid"><span class="element">&lt;rules&gt;</span><br/> <span class="element">&lt;rule <span class="attribute">match</span>="<span class="attributevalue">text()[not(ancestor::div[@class='figure']or ancestor::title)]</span>"<br/>  <span class="attribute">weight</span>="<span class="attributevalue">0</span>"/&gt;</span><br/><span class="element">&lt;/rules&gt;</span></div> This specifies that all text nodes which are not part of the document title or descendants
                  of <span class="tag">&lt;div class="figure"&gt;</span> should be ignored (<span class="att">weight</span>=<span class="val">0</span>), so only your target nodes will be indexed.</div>
               
               <p>However, it's also likely that you will want to exclude certain features or documents
                  from a specialized search page, and this is done using the <a href="schemaSpec.html#TEI.excludes" class="link_ref" title="&lt;excludes&gt;">&lt;excludes&gt;</a> section and its child <a href="schemaSpec.html#TEI.exclude" class="link_ref" title="&lt;exclude&gt;">&lt;exclude&gt;</a> elements.</p>
               
               <div class="p">Here is an example: 
                  
                  <div id="index.xml-egXML-d38e1236" class="pre egXML_valid"><span class="element">&lt;excludes&gt;</span><br/><span class="comment">&lt;!-- We only index files which have illustrations in them. --&gt;</span><br/> <span class="element">&lt;exclude <span class="attribute">type</span>="<span class="attributevalue">index</span>"<br/>  <span class="attribute">match</span>="<span class="attributevalue">html[not(descendant::meta[@name='Has illustration(s)'][@content='true'])]</span>"/&gt;</span><br/><span class="comment">&lt;!-- We ignore the document type filter, 
                        because we are only indexing one type 
                        of document anyway. --&gt;</span><br/> <span class="element">&lt;exclude <span class="attribute">type</span>="<span class="attributevalue">filter</span>"<br/>  <span class="attribute">match</span>="<span class="attributevalue">meta[@name='Document type']</span>"/&gt;</span><br/><span class="comment">&lt;!-- We exclude the filter that specifies 
                        these documents because it's pointless. --&gt;</span><br/> <span class="element">&lt;exclude <span class="attribute">type</span>="<span class="attributevalue">filter</span>"<br/>  <span class="attribute">match</span>="<span class="attributevalue">meta[@name='Has illustration(s)']</span>"/&gt;</span><br/><span class="element">&lt;/excludes&gt;</span></div> Here we use <span class="tag">&lt;exclude type="index"/&gt;</span> to specify that all documents which do not contain <span class="tag">&lt;meta name="Has illustration(s)" content="true"/&gt;&gt;</span> should be ignored. Then we use two <span class="tag">&lt;exclude type="filter"/&gt;</span> tags to specify first that the <span class="ident">Document type</span> filter should be ignored (i.e. it should not appear on the search page), and second,
                  that the boolean filter <span class="ident">Has illustrations(s)</span> should also be excluded.</div>
               
               <p>Using exclusions, you can create multiple specialized search pages which have customized
                  form controls within the same document collection. This is at the expense of additional
                  disk space and build time, of course; each of these searches needs to be built separately.</p>
               </div>
            </div>
         
         <div class="teidiv1" id="searchPage">
            
            <h3><span class="headingNumber">7.6 </span><span class="head">Creating a search page</span></h3>
            
            <div class="p">You'll obviously want the search page for your site to conform with the look and feel
               of the rest of your site. You can create a complete HTML document (which must of course
               also be well-formed XML, so it can be processed), containing all the site components
               you need, and then the search build process will insert all the necessary components
               into that file. The only requirement is that the page contains one <span class="gi">&lt;div&gt;</span> element with the correct <span class="att">id</span> attribute: 
               
               <div id="index.xml-egXML-d38e1269" class="pre egXML_valid"><span class="element">&lt;div <span class="attribute">id</span>="<span class="attributevalue">staticSearch</span>"&gt;</span> <br/> [...content will be supplied by the build process...]<br/><span class="element">&lt;/div&gt;</span></div> This <span class="gi">&lt;div&gt;</span> will be empty initially. The build process will find insert the search controls,
               scripts and results <span class="gi">&lt;div&gt;</span> into this container. Then whenever you rebuild the search for your site, the contents
               will be replaced. There is no need to make sure it's empty every time.</div>
            
            <div class="p">The search process will also add a link to the staticSearch CSS file to the <span class="gi">&lt;head&gt;</span> of the document: 
               
               <div id="index.xml-egXML-d38e1281" class="pre egXML_valid"><span class="element">&lt;link <span class="attribute">rel</span>="<span class="attributevalue">stylesheet</span>"<br/> <span class="attribute">href</span>="<span class="attributevalue">staticSearch/ssSearch.css</span>" <span class="attribute">id</span>="<span class="attributevalue">ssCss</span>"/&gt;</span></div> You can customize this CSS by providing your own CSS that overrides it, using <span class="gi">&lt;style&gt;</span>, or <span class="gi">&lt;link&gt;</span>, placed after it in the <span class="gi">&lt;head&gt;</span> element, or by replacing the inserted CSS after the build process. Note that some
               features, like <a href="schemaSpec.html#TEI.resultsPerPage" class="link_ref" title="&lt;resultsPerPage&gt;">&lt;resultsPerPage&gt;</a> or the <span class="quote">‘Searching’</span> loading dialog, rely on rules included in the base staticSearch CSS; if you do remove
               or disable the CSS, then some features may not work properly.</div>
            
            <p>Note that once your file has been processed and all this content has been added, you
               can process it again at any time; there is no need to start every time with a clean,
               empty version of the search page.</p>
            
            <p>You can take a look at the <span class="ident">test/search.html</span> page for an example of how to configure the search page (although note that since
               this page has already been processed, it has the CSS and the search controls embedded
               in it; it also has some additional JavaScript which we use for testing the search
               build results, which is not necessary for your site).</p>
            </div>
         
         <div class="teidiv1" id="searchBuildProcess">
            
            <h3><span class="headingNumber">7.7 </span><span class="head">Running the search build process</span></h3>
            
            <p>Once you have configured your HTML and your configuration file, you're ready to create
               a search index and a search page for your site. This requires that you run ant in
               the root folder of the staticSearch project that you have downloaded or cloned.</p>
            
            <p>Note: you will need Java and <a class="link_ref" href="https://ant.apache.org/">Apache Ant</a> installed, as well as <a class="link_ref" href="http://ant-contrib.sourceforge.net/">ant-contrib</a>.</p>
            
            <p>Before running the search on your own site, you can test that your system is able
               to do the build by doing the (very quick) build of the test materials. If you simply
               run the <span class="ident">ant</span> command, like this:</p>
            
            <pre id="index.xml-eg-d38e1316" class="pre_eg cdata">mholmes@linuxbox:~/Documents/staticSearch$ ant<a href="#index.xml-eg-d38e1316" class="anchorlink">⚓</a></pre>
            
            <p>you should see a build process proceed using the small test collection of documents,
               and at the end, a results page should open up giving you a report on what was done.
               If this fails, then you'll need to troubleshoot the problem based on any error messages
               you see. (Do you have Java, Ant and ant-contrib installed and working on your system?).</p>
            
            <p>If the test succeeds, you can view the results by uploading the <span class="ident">test</span> folder and all its contents to a web server, or by running a local webserver on your
               machine in that folder, using the <a class="link_ref" href="https://docs.python.org/3.8/library/http.server.html">Python HTTP server</a> or <a class="link_ref" href="https://www.php.net/manual/en/features.commandline.webserver.php">PHP's built-in web server</a>.</p>
            
            <p>If the tests all work, then you're ready to build a search for your own site. Now
               you need to run the same command, but this time, tell the build process where to find
               your custom configuration file:</p>
            
            <pre id="index.xml-eg-d38e1329" class="pre_eg cdata">ant -DssConfigFile=/home/mholmes/mysite/config_staticSearch.xml<a href="#index.xml-eg-d38e1329" class="anchorlink">⚓</a></pre>
            
            <p>The same process should run, and if it's successful, you should have a modified <span class="ident">search.html</span> page as well as a lot of index files in JSON format in your site HTML folder. Now
               you can test your own search in the same ways suggested above.</p>
            </div>
         
         <div class="teidiv1" id="theStaticSearchReport">
            
            <h3><span class="headingNumber">7.8 </span><span class="head">Generated report</span></h3>
            
            <p>After indexing your HTML files, the staticSearch build then generates an HTML report
               of helpful statistics and diagnostics about your document collection, which can be
               found in the directory specified by <a href="schemaSpec.html#TEI.outputFolder" class="link_ref" title="&lt;outputFolder&gt;">&lt;outputFolder&gt;</a>. We recommend looking at this file regularly, especially if you're encountering unexpected
               behaviour by the staticSearch engine, as it contains information that can often help
               diagnose issues with configured filters or the HTML document collection that, if fixed,
               can improve staticSearch results.</p>
            
            <p>The report also includes a number of tables that outline some statistics about your
               project. The word frequency chart is particularly useful: it can be used to create
               and fine-tune the project-specific stopword list (i.e. if a word appears multiple
               times in every document, then it probably ought to be a stopword). </p>
            </div>
         
         <div class="teidiv1" id="advancedFeatures">
            
            <h3><span class="headingNumber">7.9 </span><span class="head">Advanced features</span></h3>
            
            <div class="teidiv2" id="customAttributes">
               
               <h3><span class="headingNumber">7.9.1 </span><span class="head">Custom attributes</span></h3>
               
               <p>As described in <a class="link_ptr" href="#paramsOptional" title="Optional parameters"><span class="headingNumber">7.5.1.2 </span>Optional parameters</a>, if you set the <a href="schemaSpec.html#TEI.linkToFragmentId" class="link_ref" title="&lt;linkToFragmentId&gt;">&lt;linkToFragmentId&gt;</a> parameter to <span class="ident">true</span>, the search index will link each keyword-in-context extract with the closest element
                  that has an <span class="att">id</span>, so that each keyword-in-context string in a search result will point directly to
                  a specific page fragment. You can also add your own attributes to any element in your
                  document in order to have those attributes appear on the keyword-in-context (KWIC)
                  result string (which is in the form of an HTML <span class="gi">&lt;li&gt;</span> element).</p>
               
               <div class="p">Imagine that some of the paragraphs in your documents are special in some way. You
                  could add an attribute whose name begins with <span class="ident">data-ss-</span> to each of those paragraphs, like this: 
                  
                  <div id="index.xml-egXML-d38e1365" class="pre egXML_valid"><span class="element">&lt;p <span class="attribute">data-ss-type</span>="<span class="attributevalue">special</span>"&gt;</span>This paragraph is special for some reason or other...<span class="element">&lt;/p&gt;</span></div> When the staticSearch indexer creates KWIC extracts, it automatically harvests any
                  attribute whose name begins with <span class="ident">data-ss-</span> from the containing element or its ancestors, and adds them to the keyword-in-context
                  record in the index. Then when that KWIC string is displayed as the result of a search,
                  the attribute will be added to the HTML <span class="gi">&lt;li&gt;</span> element on the page: 
                  
                  <div id="index.xml-egXML-d38e1373" class="pre egXML_valid"><span class="element">&lt;li <span class="attribute">data-ss-type</span>="<span class="attributevalue">special</span>"&gt;</span>[KWIC with marked search hit, link, etc.]<span class="element">&lt;/li&gt;</span></div> This means that you can add your own CSS or JavaScript to make that KWIC appear distinct
                  from other KWICs which come from non-special paragraphs.</div>
               
               <p>You can add as many custom attributes as you like (although bear in mind that they
                  increase the size of the index JSON files slightly and may add to the build time).</p>
               
               <div class="p">One specific custom attribute has built-in handling that you may find useful. If you
                  add the attribute <span class="att">data-ss-img</span> with a value that points to an image, that image will be displayed to the left of
                  the KWIC string. For example, if you do this: 
                  
                  <div id="index.xml-egXML-d38e1383" class="pre egXML_valid"><span class="element">&lt;p <span class="attribute">data-ss-img</span>="<span class="attributevalue">images/elephant.png</span>"&gt;</span>This paragraph is all about elephants...<span class="element">&lt;/p&gt;</span></div> then any KWIC results from that paragraph will show the <span class="ident">elephant.png</span> image to the left of the KWIC text. This can be especially useful if your site contains
                  large documents which are broken into sections, and those sections can be helpfully
                  represented by images; the search results will be easier for the user to understand
                  by virtue of the associated images. Image URLs should be relative to the location
                  of the search page, not the original source document, since the images will be displayed
                  on the search page.</div>
               </div>
            
            <div class="teidiv2" id="highlightTargetPage">
               
               <h3><span class="headingNumber">7.9.2 </span><span class="head">Highlighting search hits on target pages</span></h3>
               
               <p>When you use a conventional search engine which is based on a backend database and
                  configured for a specific dynamic website, it is not unusual to find that when you
                  follow a link to a search hit on a target page, the hit will be highlighted on that
                  page, because the backend database is able to pre-process it. With staticSearch, that's
                  not straightforward, because there is no ‘engine’ that is preprocessing your HTML
                  pages. However, if this is important to you, there is a workaround that you can use.
                  Since staticSearch does not modify your web pages, though, the implementation has
                  to be done by you.</p>
               
               <p>By default, when you turn on <a href="schemaSpec.html#TEI.linkToFragmentId" class="link_ref" title="&lt;linkToFragmentId&gt;">&lt;linkToFragmentId&gt;</a> in the configuration, each keyword-in-context result that shows on the search page
                  will have its own specific link to the fragment of the document which contains the
                  hit. Those links are also provided with a search string, like this: <code>https://example.com/egPage.html?ssMark=elephant#animals</code> This link points to the section of the document which has <span class="att">id</span>=<span class="val">animals</span>, but it also says <span class="q">‘the hit text is the word <span class="mentioned">elephant</span>.’</span> Some JavaScript that runs on the target page, <span class="ident">egPage.html</span> (which you control) will be able to parse the value of the query parameter <span class="ident">ssMark</span> in order to find the hit text, and highlight it in some way.</p>
               
               <p>Obviously you can implement this any way you like (or just ignore it), but we also
                  supply a small demonstration JavaScript library which implements this functionality,
                  called <span class="ident">ssHighlight.js</span>. This JS file is included into the staticSearch output folder (see <a href="schemaSpec.html#TEI.outputFolder" class="link_ref" title="&lt;outputFolder&gt;">&lt;outputFolder&gt;</a>) by default, and if you include it into the header of your own pages, it will probably
                  do the highlighting without further intervention. If, however, you have lots of existing
                  JavaScript that runs when the page loads, there may be some interference between this
                  library and your own code, so you may have to make some adjustments to the code.</p>
               
               <p>Note that another alternative is to use the <a href="schemaSpec.html#TEI.scrollToTextFragment" class="link_ref" title="&lt;scrollToTextFragment&gt;">&lt;scrollToTextFragment&gt;</a> feature; this does not require any special JavaScript, but at the time of writing
                  it is supported only on some Chromium-based browsers and is non-standard and somewhat
                  unreliable.</p>
               </div>
            </div>
         
         
         
         
         
         </div>
      <!--TEI back-->
      
      <!--Notes in [TEI]-->
      
      <div class="notes">
         <div class="noteHeading">Notes</div>
         <div class="note" id="Note1"><span class="noteLabel">1 </span><div class="noteBody">This example taken from Thomas S. Kuhn, <span class="titlem">The Structure of Scientific Revolutions</span> (50th anniversary edition), University of Chicago Press, 2012: p. 191.</div> <a class="link_return" title="Go back to text" href="#Note1_return">↵</a></div>
      </div>
      
      <div class="stdfooter autogenerated">
         
         <div class="footer"><!--standard links to project, institution etc--> <a class="plain" href="index.html">Home</a> <a href="https://github.com/projectEndings/staticSearch">Github</a> </div>
         
         <address>Martin Holmes and Joey Takeda. Date: 2019-2021<br/>
            <!--
	  Generated from index.xml using XSLT stylesheets version 7.51.0
	       based on http://www.tei-c.org/Stylesheets/
	       on 2021-02-26T18:37:36Z.
	       SAXON HE 10.0.
		 --></address>
         </div>
      </body>
   </html>